---
title: "Vector Bundles, Locally Free Sheaves and Divisors on a Curve"
author: "Ehsan M. Kermani"
date: "2012-12-06"
categories: [Algebraic Geometry]
---

In this post, I'll be summarizing the basics of the correspondence between vector bundles, locally free sheaves and divisors on a smooth curve (defined over an algebraically closed field $k$ of characteristic zero) together with some of their individual properties.

---

## Locally Free Sheaves and Vector Bundles

::: {.callout-note}
## Proposition 1

a) A coherent sheaf $\mathcal{E}$ on a curve $C$ is locally free $\iff$ the fibers (stalks) $\mathcal{E}_p$ are free at every point $p \in C.$ (Note that the statement is local.)

b) A subsheaf of a locally free sheaf is locally free. (Use the fact that local rings of a smooth curve are DVR, hence PID and a submodule of a finitely generated free module is free.)

c) A non-zero map from a rank one locally free sheaf to a locally free sheaf is injective. (If there is a non-zero kernel, by (b) it is locally free of rank one, then the cokernel will be a torsion sheaf injecting to a locally free sheaf!)

d) Let $\mathcal{E}$ be a locally free sheaf of rank $r$ and $\mathcal{E}'$ a subsheaf of rank $r'.$ There exists a subsheaf $\mathcal{E}''$ of rank $r''$ containing $\mathcal{E}'$ s.t. $\mathcal{E}/\mathcal{E}''$ is locally free. In particular, if $\mathcal{E}'$ is maximal (w.r.t inclusion) the quotient is already locally free. (Think how to kill the torsion!)
:::

**Theorem**: There is a natural one-to-one correspondence between vector bundles (of rank $r$) and locally free sheaves (of rank $r$) on $C.$

*Idea*: Given a vector bundle, the sheaf of sections is the corresponding sheaf. The converse is a little tricky. Given a locally free sheaf $\mathcal{E},$ one can define a vector bundle as follows

$$E:= \{ (p,t)\mid p \in C, \;\; t \in \mathcal{E}_p/{\mathfrak{m}_p \mathcal{E}_p} \}$$

where $\mathfrak{m}_p$ is the unique maximal ideal of the local ring $\mathcal{O}_p.$

*Remark*: Subsheaves of a locally free sheaf do not necessarily correspond to the subbundles of its associated bundle. The point is that injectivity of the map of locally free sheaves may fail to be injective when it is reduced modulo the maximal ideal of some point.

*Lemma 1*: A non-trivial global section of a vector bundle $E$ corresponds to a non-zero map of sheaves $\mathcal{O} \to \mathcal{E}$ where $\mathcal{E}$ is the sheaf associated to $E.$

---

## Divisors

A *Weil* divisor on $C$ is a finite formal sum of points with integral multiplicities. If $f$ is a rational function on $C$ the divisor corresponding to $f$ is defined as $(f)=\sum \text{ord}_p(f) \cdot p.$

A *Cartier* divisor on $C$ is given by a covering $U_i$ of $C$ together with functions $f_i \in \mathcal{O}(U_i)$ s.t. $f_i/f_j$ are invertible on $U_i \cap U_j.$ A principal divisor is given by the cover consisting of $C$ alone and a function on $C$ (global section of $\mathcal{O}_C$).

Given a Cartier divisor, one can associate a Weil divisor to it by considering on each open set $U_i$ the zeros minus the poles of $(f_i)$ and this is well-defined, since $f_i/f_j$ is invertible on $U_i \cap U_j.$ Conversely, given a Weil divisor $D,$ one can construct a Cartier divisor by choosing open sets that contain at most one of the points on the support of $D$ and functions that vanish at these points with the assigned multiplicities.

Therefore, these two seemingly different notions are **equivalent** over a smooth curve $C.$

---

## Line Bundles (locally free sheaves of rank one) and Divisors

Given a Cartier divisor, one can define a locally free sheaf of rank one by taking the trivial sheaf $\mathcal{O}(U_i)$ and gluing them by the isomorphisms $f_i/f_j$ on $U_i \cap U_j.$

Conversely, given an invertible sheaf and a trivialization $\{ U_i, f_{i,j} \},$ one can define a Cartier divisor as follows: take an arbitrary open set, say $U_0$ and define a Cartier divisor with $(U_i,f_{i,0}),$ as $f_{j,0}=f^{-1}_{0,j}$ and $f_{0,j}f_{i,0}=f_{i,j}$ which is a unit on $U_i \cap U_j.$

**Definition:** Let $D=\sum n_p p$ be an effective divisor. Define the sheaf $\mathcal{F}$ on the support of $D$ by $\mathcal{F}_p=k^{n_p}.$ Now, define the skyscraper sheaf $k_D$ as the extension by zero outside of $D.$

*Lemma 2*: A line bundle $\mathcal{L}$ corresponds to an effective divisor $D$ if and only if $\mathcal{L}$ has a non-zero global section (by *Lemma 1*, there is a non-zero map of sheaves $\mathcal{O} \to \mathcal{L}$ which is injective by *Proposition 1(c)*). In this case, one has the following short exact sequence of sheaves

$$0 \longrightarrow \mathcal{O} \longrightarrow \mathcal{L} \longrightarrow k_D \longrightarrow 0$$

One then writes $\mathcal{L}=\mathcal{O}(D).$

---

## Riemann-Roch Theorem

If $\mathcal{L}$ is an invertible sheaf (line bundle), then the Euler-Poincar√© characteristic can be computed as

$$\chi(\mathcal{L})=\deg(\mathcal{L})+\chi(\mathcal{O})=\deg(\mathcal{L})+1-g$$

where $g=h^1(\mathcal{O})$ is the genus of the curve.

*Proof*: First, assume that $\mathcal{L}$ corresponds to an effective divisor $D,$ then by Lemma 2, there is a short exact sequence, thus the associated long exact sequence gives rise to $\chi(\mathcal{O}(D))= \chi (\mathcal{O})+ \chi (k_D).$ Since $k_D$ is a skyscraper sheaf, its support is a zero-dimensional set, hence $h^1(k_D)=0$ and $\chi(k_D)=h^0(k_D)=\deg D,$ so the result follows.

In the general case, assume that $\mathcal{L}$ corresponds to $D-D'$ with both $D,D'$ effective. Then $\mathcal{O}(D-D')=\mathcal{O}(D) \otimes \mathcal{O}(-D')$ where $\mathcal{O}(-D')=\mathcal{O}(D')^*.$ Indeed, $\mathcal{O}(-D')$ is a locally free sheaf so is flat and tensoring the above short exact sequence with $\mathcal{O}(-D')$ one obtains

$$0\longrightarrow \mathcal{O}(-D') \longrightarrow \mathcal{L} \longrightarrow k_D \otimes \mathcal{O}(-D') \longrightarrow 0$$

Therefore, $\chi(\mathcal{L})= \chi (\mathcal{O}(-D'))+ \chi(k_D \otimes \mathcal{O}(-D')).$ On the other hand, replacing $D$ by $D'$ in the above sequence and tensoring with $\mathcal{O}(-D')$ and doing the same thing as above leads to the desired formula.

---

*Lemma 3*: Given a locally free sheaf $\mathcal{E}$ of rank $r$ there exists a short exact sequence of sheaves

$$0 \longrightarrow \mathcal{L} \longrightarrow \mathcal{E} \longrightarrow \mathcal{E}' \longrightarrow 0$$

where $\mathcal{L}$ is an invertible sheaf and $\mathcal{E}'$ a locally free sheaf of rank $r-1.$

Using *Lemma 3* and induction, one can prove the following formula for the calculation of $\deg(\mathcal{E}_1 \otimes \mathcal{E}_2)$ where $\mathcal{E}_1, \mathcal{E}_2$ are locally free sheaves of rank $r_1, r_2$ respectively.

$$\deg(\mathcal{E}_1 \otimes \mathcal{E}_2)=r_1 \deg(\mathcal{E}_2) + r_2 \deg(\mathcal{E}_1)$$

where the degree of a locally free sheaf $\mathcal{E}$ of rank $r$ is defined by

$$\deg(\mathcal{E})=\chi(\mathcal{E})-r \chi (\mathcal{O})$$

---

**Definition:** A sheaf $\mathcal{F}$ is said to be *generated by global sections* if the natural map

$$H^0(\mathcal{F}) \otimes \mathcal{O} \longrightarrow \mathcal{F}$$

is onto.

::: {.callout-note}
## Proposition 2
If $\mathcal{E}$ is a locally free sheaf on $C,$ there exists a positive divisor $D$ on $C$ s.t. $\mathcal{E}(D):=\mathcal{E} \otimes \mathcal{O}(D)$ is generated by global sections.
:::

---

## Atiyah's Theorem

Given a locally free sheaf $\mathcal{E}$ of rank $r$ generated by global sections, there exists an exact sequence

$$0 \longrightarrow \mathcal{O}^{r-1} \longrightarrow \mathcal{E} \longrightarrow \mathcal{L} \longrightarrow 0$$

where $\mathcal{L}$ is an invertible sheaf.
